# coding=utf-8
# !/usr/bin/python

import requests
from bs4 import BeautifulSoup
import re
from base.spider import Spider
import sys
import json
sys.path.append('..')

class Spider(Spider):


    def getName(self):
        return "首页"

    def init(self, extend):
        pass

    def isVideoFormat(self, url):
        pass

    def manualVideoCheck(self):
        pass


    def homeContent(self, filter):
        result = {}
        result['class'] = []
        result['class'].append({'type_id': 1, 'type_name': '您的设备未激活或已经到期!请联系管理续费!'})
        return result
    def homeVideoContent(self):

        videos = []

        video = {
            "vod_id": "0",
            "vod_name": '您的设备未激活或已经到期!请联系管理续费!',
            "vod_pic": 'https://img0.baidu.com/it/u=414935846,667722768&fm=253&fmt=auto&app=138&f=JPEG?w=826&h=476',
            "vod_remarks": ''
        }
        videos.append(video)
        result = {'list': videos}
        return result


    def categoryContent(self, cid, pg, filter, ext):
        pass

    def detailContent(self, ids):
        pass

    def playerContent(self, flag, id, vipFlags):
        pass

    def searchContentPage(self, key, quick, page):
        pass

    def searchContent(self, key, quick):
        return self.searchContentPage(key, quick, '1')

    def localProxy(self, params):
        if params['type'] == "m3u8":
            return self.proxyM3u8(params)
        elif params['type'] == "media":
            return self.proxyMedia(params)
        elif params['type'] == "ts":
            return self.proxyTs(params)
        return None
